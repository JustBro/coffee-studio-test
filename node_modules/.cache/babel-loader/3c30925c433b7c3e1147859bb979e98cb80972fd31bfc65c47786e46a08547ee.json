{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nexport default {\n  name: \"ThePlaces\",\n  components: {\n    ThePlace: () => import(\"../Place/ThePlace.vue\")\n  },\n  data() {\n    return {\n      items: [],\n      galleryPos: 0,\n      step: 0,\n      units: \"\",\n      maxScroll: 0\n    };\n  },\n  computed: {\n    galleryStyle: function () {\n      return {\n        left: this.galleryPos + this.units\n      };\n    }\n  },\n  methods: {\n    swipe(evt) {\n      if (evt.target.classList.contains(\"arrow-btns__btn--right\")) {\n        if (this.galleryPos === 0) this.toggleBtn(document.querySelector(\".arrow-btns__btn--off\"), false);\n        if (this.galleryPos !== -this.step * this.maxScroll) this.galleryPos -= this.step;\n        if (this.galleryPos === -this.step * this.maxScroll) this.toggleBtn(evt.target, true);\n      } else {\n        if (this.galleryPos === -this.step * this.maxScroll) this.toggleBtn(document.querySelector(\".arrow-btns__btn--right\"), false);\n        if (this.galleryPos !== 0) this.galleryPos += this.step;\n        if (this.galleryPos === 0) this.toggleBtn(evt.target, true);\n      }\n    },\n    toggleBtn(btn, toggle) {\n      if (toggle) {\n        btn.setAttribute(\"style\", \"animation-name: none;\");\n        btn.classList.add(\"arrow-btns__btn--off\");\n      } else {\n        btn.removeAttribute(\"style\");\n        btn.classList.remove(\"arrow-btns__btn--off\");\n      }\n    },\n    ifResize() {\n      if (window.innerWidth > 675 && window.innerWidth <= 900 && this.maxScroll !== 5) {\n        this.galleryPos = 0;\n        this.step = 318;\n        this.units = \"px\";\n        this.maxScroll = 5;\n        this.toggleBtn(document.querySelector(\".arrow-btns__btn\"), true);\n      } else if (window.innerWidth > 900 && this.maxScroll !== 2) {\n        this.galleryPos = -51;\n        this.step = 51;\n        this.units = \"%\";\n        this.maxScroll = 2;\n        this.toggleBtn(document.querySelector(\".arrow-btns__btn\"), false);\n      } else if (window.innerWidth <= 675 && this.maxScroll !== 6) {\n        this.maxScroll = 6;\n      }\n    },\n    increase(evt) {\n      const windowWidth = window.innerWidth;\n      const width = windowWidth * 0.8;\n      const imgAlt = evt.target.getAttribute(\"alt\");\n      const imgNum = imgAlt.substring(imgAlt.length - 1, imgAlt.length);\n      const img = document.createElement(\"img\");\n      const wrap = document.createElement(\"div\");\n      const btnClose = document.createElement(\"button\");\n      const blure = document.querySelector(\".blure\");\n      blure.setAttribute(\"style\", \"display: flex\");\n      wrap.setAttribute(\"style\", \"display: flex; position: relative;\");\n      img.setAttribute(\"alt\", imgAlt);\n      img.setAttribute(\"src\", require(\"../../img/pic-place-\" + imgNum + \".jpg\"));\n      img.setAttribute(\"style\", `width: ${width}px; max-width: 1300px; border-radius: 3%`);\n      btnClose.setAttribute(\"class\", \"btn-close\");\n      btnClose.addEventListener(\"click\", this.hide);\n      wrap.appendChild(img);\n      wrap.appendChild(btnClose);\n      blure.appendChild(wrap);\n    },\n    hide() {\n      const wrap = document.querySelector(\".blure\");\n      wrap.replaceChildren();\n      wrap.setAttribute(\"style\", \"display: none\");\n    }\n  },\n  mounted() {\n    const names = [\"place-1\", \"place-2\", \"place-3\", \"place-4\", \"place-5\", \"place-6\", \"place-7\"];\n    names.forEach(el => {\n      this.items.push({\n        class: \"places__li \" + el,\n        key: el,\n        src: require(\"../../img/pic-\" + el + \".jpg\"),\n        alt: \"Заповедное место \" + el.substring(el.length - 1, el.length)\n      });\n    });\n    const windowWidth = window.innerWidth;\n    if (windowWidth <= 900) {\n      this.galleryPos = 0;\n      this.step = 318;\n      this.units = \"px\";\n      this.maxScroll = windowWidth <= 675 ? 6 : 5;\n      this.toggleBtn(document.querySelector(\".arrow-btns__btn\"), true);\n    } else {\n      this.galleryPos = -51;\n      this.step = 51;\n      this.units = \"%\";\n      this.maxScroll = 2;\n    }\n    window.addEventListener(\"resize\", this.ifResize);\n  }\n};","map":{"version":3,"names":["name","components","ThePlace","data","items","galleryPos","step","units","maxScroll","computed","galleryStyle","left","methods","swipe","evt","target","classList","contains","toggleBtn","document","querySelector","btn","toggle","setAttribute","add","removeAttribute","remove","ifResize","window","innerWidth","increase","windowWidth","width","imgAlt","getAttribute","imgNum","substring","length","img","createElement","wrap","btnClose","blure","require","addEventListener","hide","appendChild","replaceChildren","mounted","names","forEach","el","push","class","key","src","alt"],"sources":["src/components/Places/ThePlaces.vue"],"sourcesContent":["<template>\n  <main>\n    <section class=\"places\">\n      <div class=\"wrap\">\n        <h2 class=\"block-title\">Заповедные места русской истории</h2>\n        <span class=\"places__txt\"\n          >Мы продумали досуг жильцов, чтобы свободные вечера проходили с\n          комфортом (здесь нужно описать задумку ландшафтного дизайнера с\n          бульваром и преимущество парковой зоны внутри ЖК + наличие\n          коммерческой недвижимости)</span\n        >\n        <ul :style=\"galleryStyle\" class=\"places__gallery\">\n          <li\n            v-for=\"item in items\"\n            v-on:click=\"increase\"\n            :class=\"item.class\"\n            :key=\"item.key\"\n          >\n            <ThePlace :imgSrc=\"item.src\" :altTxt=\"item.alt\" />\n          </li>\n        </ul>\n        <div class=\"arrow-btns\">\n          <button class=\"arrow-btns__btn\" v-on:click=\"swipe\"></button>\n          <button\n            class=\"arrow-btns__btn arrow-btns__btn--right\"\n            v-on:click=\"swipe\"\n          ></button>\n        </div>\n      </div>\n    </section>\n    <div v-on:click=\"hide\" class=\"blure\"></div>\n  </main>\n</template>\n\n<script>\nexport default {\n  name: \"ThePlaces\",\n\n  components: {\n    ThePlace: () => import(\"../Place/ThePlace.vue\"),\n  },\n\n  data() {\n    return {\n      items: [],\n      galleryPos: 0,\n      step: 0,\n      units: \"\",\n      maxScroll: 0,\n    };\n  },\n\n  computed: {\n    galleryStyle: function () {\n      return { left: this.galleryPos + this.units };\n    },\n  },\n\n  methods: {\n    swipe(evt) {\n      if (evt.target.classList.contains(\"arrow-btns__btn--right\")) {\n        if (this.galleryPos === 0)\n          this.toggleBtn(\n            document.querySelector(\".arrow-btns__btn--off\"),\n            false\n          );\n        if (this.galleryPos !== -this.step * this.maxScroll)\n          this.galleryPos -= this.step;\n        if (this.galleryPos === -this.step * this.maxScroll)\n          this.toggleBtn(evt.target, true);\n      } else {\n        if (this.galleryPos === -this.step * this.maxScroll)\n          this.toggleBtn(\n            document.querySelector(\".arrow-btns__btn--right\"),\n            false\n          );\n        if (this.galleryPos !== 0) this.galleryPos += this.step;\n        if (this.galleryPos === 0) this.toggleBtn(evt.target, true);\n      }\n    },\n\n    toggleBtn(btn, toggle) {\n      if (toggle) {\n        btn.setAttribute(\"style\", \"animation-name: none;\");\n        btn.classList.add(\"arrow-btns__btn--off\");\n      } else {\n        btn.removeAttribute(\"style\");\n        btn.classList.remove(\"arrow-btns__btn--off\");\n      }\n    },\n\n    ifResize() {\n      if (\n        window.innerWidth > 675 &&\n        window.innerWidth <= 900 &&\n        this.maxScroll !== 5\n      ) {\n        this.galleryPos = 0;\n        this.step = 318;\n        this.units = \"px\";\n        this.maxScroll = 5;\n\n        this.toggleBtn(document.querySelector(\".arrow-btns__btn\"), true);\n      } else if (window.innerWidth > 900 && this.maxScroll !== 2) {\n        this.galleryPos = -51;\n        this.step = 51;\n        this.units = \"%\";\n        this.maxScroll = 2;\n\n        this.toggleBtn(document.querySelector(\".arrow-btns__btn\"), false);\n      } else if (window.innerWidth <= 675 && this.maxScroll !== 6) {\n        this.maxScroll = 6;\n      }\n    },\n\n    increase(evt) {\n      const windowWidth = window.innerWidth;\n      const width = windowWidth * 0.8;\n\n      const imgAlt = evt.target.getAttribute(\"alt\");\n      const imgNum = imgAlt.substring(imgAlt.length - 1, imgAlt.length);\n\n      const img = document.createElement(\"img\");\n      const wrap = document.createElement(\"div\");\n      const btnClose = document.createElement(\"button\");\n\n      const blure = document.querySelector(\".blure\");\n\n      blure.setAttribute(\"style\", \"display: flex\");\n\n      wrap.setAttribute(\"style\", \"display: flex; position: relative;\");\n\n      img.setAttribute(\"alt\", imgAlt);\n      img.setAttribute(\n        \"src\",\n        require(\"../../img/pic-place-\" + imgNum + \".jpg\")\n      );\n      img.setAttribute(\n        \"style\",\n        `width: ${width}px; max-width: 1300px; border-radius: 3%`\n      );\n\n      btnClose.setAttribute(\"class\", \"btn-close\");\n      btnClose.addEventListener(\"click\", this.hide);\n\n      wrap.appendChild(img);\n      wrap.appendChild(btnClose);\n      blure.appendChild(wrap);\n    },\n\n    hide() {\n      const wrap = document.querySelector(\".blure\");\n      wrap.replaceChildren();\n      wrap.setAttribute(\"style\", \"display: none\");\n    },\n  },\n\n  mounted() {\n    const names = [\n      \"place-1\",\n      \"place-2\",\n      \"place-3\",\n      \"place-4\",\n      \"place-5\",\n      \"place-6\",\n      \"place-7\",\n    ];\n\n    names.forEach((el) => {\n      this.items.push({\n        class: \"places__li \" + el,\n        key: el,\n        src: require(\"../../img/pic-\" + el + \".jpg\"),\n        alt: \"Заповедное место \" + el.substring(el.length - 1, el.length),\n      });\n    });\n\n    const windowWidth = window.innerWidth;\n\n    if (windowWidth <= 900) {\n      this.galleryPos = 0;\n      this.step = 318;\n      this.units = \"px\";\n      this.maxScroll = windowWidth <= 675 ? 6 : 5;\n\n      this.toggleBtn(document.querySelector(\".arrow-btns__btn\"), true);\n    } else {\n      this.galleryPos = -51;\n      this.step = 51;\n      this.units = \"%\";\n      this.maxScroll = 2;\n    }\n\n    window.addEventListener(\"resize\", this.ifResize);\n  },\n};\n</script>\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}